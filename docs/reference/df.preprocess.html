<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>preprocessing before training — df.preprocess • ezML</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="preprocessing before training — df.preprocess"><meta name="description" content="options for preprocessing:
dummy variable encoding
modification to the whole dataset before training, including
imputation using missForest and KNN
detection and removal of Near Zero Variance (NZV) and ConditionalX variables
Note that these modifications apply only in situations where caret::train
is not used in the model building; for example
ML method is glm where no cross validation (CV) is needed due to the absence of hyper-parameters
ML method is randomForest where the training is done using randomForest::tuneRF()
Otherwise, those modification should be specified in caret::train(preProc) to avoid
information leakage during training. Note that missForest is not available
in preProc.


"><meta property="og:description" content="options for preprocessing:
dummy variable encoding
modification to the whole dataset before training, including
imputation using missForest and KNN
detection and removal of Near Zero Variance (NZV) and ConditionalX variables
Note that these modifications apply only in situations where caret::train
is not used in the model building; for example
ML method is glm where no cross validation (CV) is needed due to the absence of hyper-parameters
ML method is randomForest where the training is done using randomForest::tuneRF()
Otherwise, those modification should be specified in caret::train(preProc) to avoid
information leakage during training. Note that missForest is not available
in preProc.


"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ezML</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/ezML-intro.html">ezML-intro</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/blueskypie/ezML/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>preprocessing before training</h1>
      <small class="dont-index">Source: <a href="https://github.com/blueskypie/ezML/blob/HEAD/R/ML.funs.r" class="external-link"><code>R/ML.funs.r</code></a></small>
      <div class="d-none name"><code>df.preprocess.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>options for preprocessing:</p><ul><li><p>dummy variable encoding</p></li>
<li><p>modification to the whole dataset before training, including</p><ul><li><p>imputation using <code>missForest</code> and <code>KNN</code></p></li>
<li><p>detection and removal of <code>Near Zero Variance (NZV)</code> and <code>ConditionalX</code> variables
Note that these modifications apply only in situations where <code><a href="https://rdrr.io/pkg/caret/man/train.html" class="external-link">caret::train</a></code>
is not used in the model building; for example</p></li>
<li><p>ML method is <code>glm</code> where no cross validation (CV) is needed due to the absence of hyper-parameters</p></li>
<li><p>ML method is <code>randomForest</code> where the training is done using <code><a href="https://rdrr.io/pkg/randomForest/man/tuneRF.html" class="external-link">randomForest::tuneRF()</a></code>
Otherwise, those modification should be specified in <code>caret::train(preProc)</code> to avoid
information leakage during training. Note that <code>missForest</code> is not available
in <code>preProc</code>.</p></li>
</ul></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">df.preprocess</span><span class="op">(</span></span>
<span>  allDF <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  trainDF <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  testDF <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  prior.nzvCondX <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"n"</span>, <span class="st">"nx"</span><span class="op">)</span>,</span>
<span>  dummyEncoding <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  prior.impute <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="st">"missForest"</span>, <span class="st">"KNN"</span><span class="op">)</span>,</span>
<span>  <span class="va">classCol</span>,</span>
<span>  posLabel <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  negLabel <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  oDir <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-alldf">allDF<a class="anchor" aria-label="anchor" href="#arg-alldf"></a></dt>
<dd><p>NULL, data.frame; the data.frame of all the data</p></dd>


<dt id="arg-traindf">trainDF<a class="anchor" aria-label="anchor" href="#arg-traindf"></a></dt>
<dd><p>NULL, data.frame; the data.frame of the training data</p></dd>


<dt id="arg-testdf">testDF<a class="anchor" aria-label="anchor" href="#arg-testdf"></a></dt>
<dd><p>NULL, data.frame; the data.frame of the testing data</p></dd>


<dt id="arg-prior-nzvcondx">prior.nzvCondX<a class="anchor" aria-label="anchor" href="#arg-prior-nzvcondx"></a></dt>
<dd><p>NULL, char; remove NZV and conditionalX variables before training.
This can be used only if <code><a href="https://rdrr.io/pkg/caret/man/train.html" class="external-link">caret::train</a></code> is not used in the model building.
Following are the available options:
* <code>NULL</code>: do not remove before training
* one of <code>n, nx</code>:
+ n: NZV
+ nx: NZV and ConditionalX
if detected, removed variables are written to files <code>nzv.csv</code> and <code>conditionalX.txt</code></p></dd>


<dt id="arg-dummyencoding">dummyEncoding<a class="anchor" aria-label="anchor" href="#arg-dummyencoding"></a></dt>
<dd><p><code>cMethod %in% c('xgbTree','svmRadial')</code>,logical; is dummy variable encoding needed before training;</p></dd>


<dt id="arg-prior-impute">prior.impute<a class="anchor" aria-label="anchor" href="#arg-prior-impute"></a></dt>
<dd><p><code>c(NA,'missForest','KNN')</code>, char; impute missing values before training.
This can be used only if <code><a href="https://rdrr.io/pkg/caret/man/train.html" class="external-link">caret::train</a></code> is not used in the model building.
Following are the available options:
* <code>NA</code>: do not impute before training
* one of <code>missForest, KNN</code>: impute using <code><a href="https://rdrr.io/pkg/missForest/man/missForest.html" class="external-link">missForest::missForest()</a></code> or <code><a href="https://rdrr.io/pkg/DMwR2/man/knnImputation.html" class="external-link">DMwR2::knnImputation()</a></code></p></dd>


<dt id="arg-classcol">classCol<a class="anchor" aria-label="anchor" href="#arg-classcol"></a></dt>
<dd><p>char; the column name of the class, i.e. response variable</p></dd>


<dt id="arg-poslabel-neglabel">posLabel, negLabel<a class="anchor" aria-label="anchor" href="#arg-poslabel-neglabel"></a></dt>
<dd><p>NULL, char; the positive and negative labels for two-class classification</p></dd>


<dt id="arg-odir">oDir<a class="anchor" aria-label="anchor" href="#arg-odir"></a></dt>
<dd><p>NULL, char; output directory</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a list containing <code>trainDF</code>, <code>testDF</code>, and <code>allDF</code> post processing.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># none</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jike Cui.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

